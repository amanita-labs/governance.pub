# DEPRECATED: This file is kept for reference only
# Use the root-level render.yaml for full stack deployment
# This file only defines the backend service in isolation and requires manual database setup

services:
  - type: web
    name: govtwool-backend
    env: rust
    region: oregon
    rootDir: backend
    buildCommand: cargo build --release
    startCommand: ./target/release/govtwool-backend
    healthCheckPath: /health
    envVars:
      # Database Configuration (requires PostgreSQL service)
      # Link to database service: DATABASE_URL will be auto-populated
      - key: DATABASE_URL
        sync: false  # Set manually or link to database service
      - key: PORT
        value: 8080
      
      # Network Configuration
      - key: CARDANO_NETWORK
        value: preview
      
      # Cache Configuration
      - key: CACHE_ENABLED
        value: "true"
      - key: CACHE_MAX_ENTRIES
        value: "10000"
      
      # GovTools Configuration (optional)
      - key: GOVTOOLS_ENABLED
        value: "false"
      - key: GOVTOOLS_BASE_URL
        value: https://be.preview.gov.tools

